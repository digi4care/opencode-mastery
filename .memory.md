---
memory:
  compaction:
    count_based: 80
    event_based: true
    time_based: 15
  enabled: false
  lazyLoading: true
  types:
    episodic:
      enabled: false
      retention: 30d
    semantic:
      enabled: false
      scope: project
  version: "1.0"
---

# Project Context

## Stack

- **Taal**: TypeScript (plugins), Python (scripts)
- **Package Manager**: Bun (JS/TS), uv (Python)
- **OpenCode**: Custom skills en plugins
- **Testing**: pytest, vitest

## Belangrijke Conventies

### Technisch

- **Altijd TodoWrite** - Gebruik TodoWrite bij taken met 3+ stappen
- **Python eerst** - Prefer Python boven JavaScript/Node.js
- **Geen taal specificatie** in codeblocks voor commands: `/command` (geen `bash /command`)
- **Wél bash codeblocks** voor echte scripts: `bash ls -la`
- **CRITICAL: Alleen repo bestanden editen** - NOOIT wijzigingen maken in:
  - `~/.ai_docs/opencode/` (geïnstalleerde scripts)
  - `~/.config/opencode/` (geïnstalleerde skills/commands)
  - Alleen editen in: `src/`, root bestanden
  - Workflow: edit in repo → commit → push → uninstall → install → test

### Project Structuur

Alles in `src/` volgens OpenCode design patterns:

```
src/
├── skill/         ← Skills (SKILL.md bestanden)
├── plugin/        ← Plugins (TypeScript, tools/hooks)
└── commands/      ← Commands (.md met frontmatter)
```

**Regels:**

- **skill/** (singular) - Nooit skills/ (plural)
- Plugin in `src/plugin/`, NIET in `.opencode/plugin/`
- Alleen `.opencode/` voor lokale OpenCode config (niet voor source code)

---

# OpenCode Design Patterns

> **Referentie**: Zie `docs/project/opencode-design-patterns.md` voor volledige documentatie.

## Quick Reference

| Component | Wie roept aan?          | Voorbeeld                                |
| --------- | ----------------------- | ---------------------------------------- |
| **Tool**  | AI roept aan            | `grep`, `read`, `write`                  |
| **Hook**  | OpenCode (event-driven) | `session.created`, `tool.execute.before` |

### Beschikbare Hook Events

- `session.created` - nieuwe sessie start
- `session.deleted` - sessie eindigt
- `session.compacting` - context window vol (80%)
- `tool.execute.before/after` - tool lifecycle
- `prompt.build` - prompt manipulatie
- `message.created` - intent detectie

### Belangrijke Regels

- ✅ TypeScript voor AI-logica
- ✅ Factory functions (`createTool()`)
- ❌ Geen Python voor AI-logica
- ❌ Geen hardcoded paths

---

# Notes

- Project is een OpenCode extensie/tooling project
- Bevat custom skills, plugins, en AI documentatie cache
- Installatie via `./install.sh`, verwijderen via `./uninstall.sh`
